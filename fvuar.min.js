/**
 * @name                fvuarjs
 * @long_name           Fast Visual User Alerts Resource
 * @description         Notification message library with a modern look for your project!
 * @version             0.0.3
 * @author              ahmetcanisik
 * @licence             MIT
 */

class Fvuar{#e=document.createElement("style");constructor({maxCount:e=4,maxTime:t=4,defaultTime:n=4,defaultTheme:s="default",defaultPosition:o="top-right",cpAlert:r=!1,alertOffset:i=70,closeMethod:a="click",hoverToTop:c=!0,clickToClose:l=!0,multiply:d=!1}={}){localStorage.setItem("prc",""),this.defines={multiply:d,cpAlert:r,alertOffset:i,closeMethod:a,hoverToTop:c,defaultTheme:s,defaultPosition:o,clickToClose:l,maxCount:d?e:1,maxTime:t,defaultTime:n,len:0,themes:{success:"success",error:"error",default:"default",warning:"warning",info:"info",orange:"orange",alert:"alert"},element:{styleTag:this.#t.static},pos:{"top-left":10,"top-center":10,"top-right":10,"center-left":10,center:10,"center-right":10,"bottom-left":10,"bottom-center":10,"bottom-right":10},colors:{"default-bg":this.#t.dynamic(),"default-fg":this.#t.dynamic(),"default-b":this.#t.dynamic(),"error-bg":this.#t.dynamic(),"error-fg":this.#t.dynamic(),"error-b":this.#t.dynamic(),"orange-bg":this.#t.dynamic(),"orange-fg":this.#t.dynamic(),"orange-b":this.#t.dynamic(),"warning-bg":this.#t.dynamic(),"warning-fg":this.#t.dynamic(),"warning-b":this.#t.dynamic(),"success-bg":this.#t.dynamic(),"success-fg":this.#t.dynamic(),"success-b":this.#t.dynamic(),"info-bg":this.#t.dynamic(),"info-fg":this.#t.dynamic(),"info-b":this.#t.dynamic()}},this.#e.id=this.defines.element.styleTag,document.head.appendChild(this.#e),this.#e.textContent=`\n            :root {\n                --border-colors: #000;\n                --s${this.defines.colors["default-bg"]}: #ffffff;\n                --s${this.defines.colors["default-fg"]}: #020617;\n                --s${this.defines.colors["default-b"]}: #475569;\n                --s${this.defines.colors["error-bg"]}: #e66a6a;\n                --s${this.defines.colors["error-fg"]}: #450a0a;\n                --s${this.defines.colors["error-b"]}: #450a0a;\n                --s${this.defines.colors["orange-bg"]}: #ff9020;\n                --s${this.defines.colors["orange-fg"]}: #5a1801;\n                --s${this.defines.colors["orange-b"]}: #5a1801;\n                --s${this.defines.colors["warning-bg"]}: #f0d465;\n                --s${this.defines.colors["warning-fg"]}: #422006;\n                --s${this.defines.colors["warning-b"]}: #422006;\n                --s${this.defines.colors["success-bg"]}: #6ee7b7;\n                --s${this.defines.colors["success-fg"]}: #134d14;\n                --s${this.defines.colors["success-b"]}: #134d14;\n                --s${this.defines.colors["info-bg"]}: #0e214d;\n                --s${this.defines.colors["info-fg"]}: #38bdf8;\n                --s${this.defines.colors["info-b"]}: #38bdf8;\n            }\n            @media (prefers-color-scheme: dark) {\n                :root {\n                    --border-colors: #475569;\n                    --s${this.defines.colors["default-bg"]}: #020617;\n                    --s${this.defines.colors["default-fg"]}: #f8fafc;\n                    --s${this.defines.colors["default-b"]}: #475569;\n                }\n            }\n            #fva-${this.#t.static} {\n                z-index: 8669 !important;\n                pointer-events: none;\n                user-select: none;\n                -moz-user-select: none;\n                -webkit-user-select: none;\n                width: 100%;\n                min-height: 100vh;\n                font-family: -apple-system,system-ui,'Ubuntu',BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif ;\n                background: transparent;\n                transition: visibility 0.3s, opacity 0.3s, backdrop-filter 0.3s;\n            }\n            .fvc-${this.#t.static} {\n                position: fixed;\n                min-width: 20%;\n                max-width: 20%;\n                z-index: 9998;\n                display: flex;\n                justify-content: space-between;\n                outline: 1px solid #000;\n                border-bottom: 8px solid var(--border-colors);\n                visibility: visible;\n                opacity: 1;\n                border-radius: 8px;\n                pointer-events: auto;\n                user-select: auto;\n                -webkit-user-select: auto;\n                -moz-user-select: auto;\n                cursor: pointer;\n                font-weight: 500;\n                background: white;\n                padding: 10px;\n                &:hover {\n                    outline-width: 2px;\n                }\n                &:active {\n                    border-bottom-width: 4px;\n                }\n            }\n            .fvt-${this.#t.static} {\n                width: 100%;\n                text-align: center;\n                padding: 10px;\n            }\n            \n            .fvc-${this.#t.static}.top-left-${this.#t.static} {\n                top: 10px;\n                left: 10px;\n                bottom: auto;\n                right: auto;\n                &::after {\n                    content: "";\n                    position: absolute;\n                    top: 50%;\n                    right: 100%;\n                    transform: translateY(-50%);\n                    border-width: 10px 10px 10px 0;\n                    border-style: solid;\n                    border-color: transparent var(--border-colors) transparent transparent;\n                    display: block;\n                    width: 0;\n                }\n            }\n            \n            .fvc-${this.#t.static}.top-center-${this.#t.static} {\n                top: 10px;\n                left: 50%;\n                transform: translateX(-50%);\n                bottom: auto;\n                right: auto;\n                &::after {\n                    content: "";\n                    position: absolute;\n                    top: -10px;\n                    left: 50%;\n                    transform: translateX(-50%);\n                    border-width: 0 10px 10px;\n                    border-style: solid;\n                    border-color: transparent transparent var(--border-colors) transparent;\n                    display: block;\n                    width: 0;\n                }\n            }\n            \n            .fvc-${this.#t.static}.top-right-${this.#t.static} {\n                top: 10px;\n                right: 10px;\n                left: auto;\n                bottom: auto;\n                &::after {\n                    content: "";\n                    position: absolute;\n                    top: 50%;\n                    left: 100%;\n                    transform: translateY(-50%);\n                    border-width: 10px 0 10px 10px;\n                    border-style: solid;\n                    border-color: transparent transparent transparent var(--border-colors);\n                    display: block;\n                    width: 0;\n                }\n            }\n            \n            .fvc-${this.#t.static}.center-${this.#t.static} {\n                top: 50%;\n                left: 50%;\n                transform: translate(-50%, -50%);\n                bottom: auto;\n                right: auto;\n                &::after {\n                    content: "";\n                    position: absolute;\n                    top: -10px;\n                    left: 50%;\n                    transform: translateX(-50%);\n                    border-width: 0 10px 10px;\n                    border-style: solid;\n                    border-color: transparent transparent var(--border-colors) transparent;\n                    display: block;\n                    width: 0;\n                }\n            } \n            \n            .fvc-${this.#t.static}.center-left-${this.#t.static} {\n                top: 50% ;\n                left: 10px ;\n                transform: translateY(-50%) ;\n                bottom: auto ;\n                right: auto ;\n                &::after {\n                    content: "";\n                    position: absolute;\n                    top: 50%;\n                    right: 100%;\n                    transform: translateY(-50%);\n                    border-width: 10px 10px 10px 0;\n                    border-style: solid;\n                    border-color: transparent var(--border-colors) transparent transparent;\n                    display: block;\n                    width: 0;\n                }\n            }\n            \n            .fvc-${this.#t.static}.center-right-${this.#t.static} {\n                top: 50% ;\n                right: 10px ;\n                transform: translateY(-50%) ;\n                bottom: auto ;\n                left: auto ;\n                &::after {\n                    content: "";\n                    position: absolute;\n                    top: 50%;\n                    left: 100%;\n                    transform: translateY(-50%);\n                    border-width: 10px 0 10px 10px;\n                    border-style: solid;\n                    border-color: transparent transparent transparent var(--border-colors);\n                    display: block;\n                    width: 0;\n                }\n            }\n            \n            .fvc-${this.#t.static}.bottom-left-${this.#t.static} {\n                bottom: 10px;\n                left: 10px;\n                top: auto;\n                right: auto;\n                &::after {\n                    content: "";\n                    position: absolute;\n                    top: 50%;\n                    right: 100%;\n                    transform: translateY(-50%);\n                    border-width: 10px 10px 10px 0;\n                    border-style: solid;\n                    border-color: transparent var(--border-colors) transparent transparent;\n                    display: block;\n                    width: 0;\n                }\n            }\n            \n            .fvc-${this.#t.static}.bottom-center-${this.#t.static} {\n                bottom: 10px;\n                left: 50%;\n                transform: translateX(-50%);\n                top: auto;\n                right: auto;\n                &::after {\n                    content: "";\n                    position: absolute;\n                    bottom: -15px;\n                    left: 50%;\n                    transform: translateX(-50%);\n                    border-width: 10px 10px 0;\n                    border-style: solid;\n                    border-color: var(--border-colors) transparent transparent transparent;\n                    display: block;\n                    width: 0;\n                }\n            }\n            \n            .fvc-${this.#t.static}.bottom-right-${this.#t.static} {\n                bottom: 10px;\n                right: 10px;\n                top: auto;\n                left: auto;\n                &::after {\n                    content: "";\n                    position: absolute;\n                    top: 50%;\n                    left: 100%;\n                    transform: translateY(-50%);\n                    border-width: 10px 0 10px 10px;\n                    border-style: solid;\n                    border-color: transparent transparent transparent var(--border-colors);\n                    display: block;\n                    width: 0;\n                }\n            }\n            \n            \n            .alert-default-${this.#t.static} {\n                background: var(--s${this.defines.colors["default-bg"]}) ;\n                color: var(--s${this.defines.colors["default-fg"]});\n                border-bottom-color: var(--s${this.defines.colors["default-b"]});\n                outline-color: var(--s${this.defines.colors["default-b"]});\n            }\n            .alert-success-${this.#t.static} {\n                background: var(--s${this.defines.colors["success-bg"]}) ;\n                color: var(--s${this.defines.colors["success-fg"]});\n                border-bottom-color: var(--s${this.defines.colors["success-b"]});\n                outline-color: var(--s${this.defines.colors["success-b"]});\n            }\n            .alert-warning-${this.#t.static} {\n                background: var(--s${this.defines.colors["warning-bg"]}) ;\n                color: var(--s${this.defines.colors["warning-fg"]});\n                border-bottom-color: var(--s${this.defines.colors["warning-b"]});\n                outline-color: var(--s${this.defines.colors["warning-b"]});\n            }\n            .alert-error-${this.#t.static} {\n                background: var(--s${this.defines.colors["error-bg"]});\n                color: var(--s${this.defines.colors["error-fg"]});\n                border-bottom-color: var(--s${this.defines.colors["error-b"]});\n                outline-color: var(--s${this.defines.colors["error-b"]});\n            }\n            .alert-info-${this.#t.static} {\n                background-color: var(--s${this.defines.colors["info-fg"]}) ;\n                color: var(--s${this.defines.colors["info-bg"]});\n                border-bottom-color: var(--s${this.defines.colors["info-b"]});\n                outline-color: var(--s${this.defines.colors["info-b"]});\n            }\n            .alert-orange-${this.#t.static} {\n                background-color: var(--s${this.defines.colors["orange-bg"]}) ;\n                color: var(--s${this.defines.colors["orange-fg"]});\n                border-bottom-color: var(--s${this.defines.colors["orange-b"]});\n                outline-color: var(--s${this.defines.colors["orange-b"]});\n            }\n            \n            @media (max-width: 628px) {\n                .fvc-${this.#t.static} {\n                    display: flex ;\n                    flex-direction: row-reverse ;\n                    min-width: 60%;\n                    max-width: 60%;\n                    padding: calc(100% / 40) ;\n                }\n            }\n            \n`,this.fvAlert=document.createElement("fv-alert"),this.fvAlert.id="fva-"+this.#t.static,document.body.appendChild(this.fvAlert)}#n=function(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n,s=[];try{const e=localStorage.getItem("prc");e?s=JSON.parse(e):localStorage.setItem("prc",JSON.stringify([]))}catch(e){console.error("Error accessing localStorage",e),s=[]}do{n=Array.from({length:e},(()=>t.charAt(Math.floor(62*Math.random())))).join("")}while(s.includes(n));s.push(n);try{localStorage.setItem("prc",JSON.stringify(s))}catch(e){console.error("Error setting localStorage",e)}return n};#t={static:this.#n(9),dynamic:(e=6)=>this.#n(e)};#s(e,t=void 0){return 1===e?`${this.defines.themes.alert}-${this.defines.themes.error}-${this.#t.static}`:`${this.defines.themes.alert}-${t}-${this.#t.static}`}#o(e,t,n,s=!1,o=this.defines.multiply){if(s)o&&(this.defines.pos[t]-=this.defines.alertOffset);else{switch(n){case"top":e.style.top=`${this.defines.pos[t]}px`;break;case"bottom":e.style.bottom=`${this.defines.pos[t]}px`;break;case"center":e.style.top=`calc(50% + ${this.defines.pos[t]}px)`,"center-left"===t?(e.style.left="10px",e.style.right="auto",e.style.transform="translateY(-50%)"):"center-right"===t?(e.style.right="10px",e.style.left="auto",e.style.transform="translateY(-50%)"):(e.style.left="50%",e.style.right="auto",e.style.transform="translate(-50%, -50%)")}e.classList.add(`bubble-${n}-${this.#t.static}`),o&&(this.defines.pos[t]+=e.offsetHeight+this.defines.alertOffset)}}#r({theme:e,position:t,text:n,time:s,css:o,clickToClose:r}){try{let i=1e3*s,a=document.createElement("fv-container"),c=document.createElement("fv-text");a.id=`fvc_${this.#t.dynamic()}`,c.id=`fvt_${this.#t.dynamic()}`;const l=(e,n=!1)=>{"none"===e?(a.remove(),n&&(this.defines.len-=1,this.#o(a,t,t.split("-")[0],!0,this.defines.multiply))):"flex"===e?(this.defines.len+=1,a.style.display="flex"):console.error("sav() fonksiyonu iki parametre alır: ['flex','none'], Counter(boolean)")};switch(e){case this.defines.themes.error:a.className=this.#s(1);break;case this.defines.themes.default:a.className=this.#s(0,this.defines.themes.default);break;case this.defines.themes.warning:a.className=this.#s(0,this.defines.themes.warning);break;case this.defines.themes.success:a.className=this.#s(0,this.defines.themes.success);break;case this.defines.themes.info:a.className=this.#s(0,this.defines.themes.info);break;case this.defines.themes.orange:a.className=this.#s(0,this.defines.themes.orange);break;default:console.error("Please write success, warning or error. usage should be createAlert({ e: 'success', a: 'Your message' })")}o&&Object.assign(a.style,o),Object.keys(this.defines.pos).forEach((e=>a.classList.remove(`${e}-${this.#t.static}`))),a.classList.add(`${t}-${this.#t.static}`),this.#o(a,t,t.split("-")[0],!1,this.defines.multiply),a.classList.add(`fvc-${this.#t.static}`),c.classList.add(`fvt-${this.#t.static}`),this.defines.multiply||(this.fvAlert.innerHTML=""),this.fvAlert.appendChild(a),c.innerHTML=n,a.appendChild(c),l("flex");let d=setTimeout((()=>{l("none",!0)}),i);this.defines.hoverToTop&&(c.addEventListener("mouseover",(()=>{a.style.zIndex+=20})),c.addEventListener("mouseleave",(()=>{a.style.zIndex-=20..toString()}))),r&&a.addEventListener(this.defines.closeMethod,(()=>{l("none",!0),clearTimeout(d),i=0}),{once:!0})}catch(e){console.error("Ups! There was a problem creating the alert.",e)}}#i(e){let t;try{if("string"==typeof e){const n=document.querySelector(e);if(!n)return void console.error("Element not found with the provided Target:",e);t=n.localName}else t=e.localName}catch(e){console.error("Ups! A problem occurred while detecting the target's type.",e)}return t}#a(e){let t;try{t="input"===this.#i(e)&&"string"==typeof e?document.querySelector(e).value:"string"==typeof e?document.querySelector(e).innerText:e.value?e.value:e.innerText}catch(e){console.error("Ups! An error occurred while checking whether the target is an input element!",e)}return t}new({theme:e=this.defines.defaultTheme,position:t=this.defines.defaultPosition,text:n="Your Alert is here!",displayTime:s=this.defines.defaultTime,css:o,clickToClose:r=this.defines.clickToClose}){const i=s;if(this.defines.multiply){if(this.defines.len>=this.defines.maxCount||i>this.defines.maxTime)return void console.log(`Max alert count(${this.defines.maxCount}) reached!`);this.#r({theme:e,position:t,text:n,time:i,css:o,clickToClose:r})}else this.#r({theme:e,position:t,text:n,time:i,css:o,clickToClose:r})}copy(e=void 0,t=this.defines.cpAlert,n={position:"top-right",theme:"default",text:"Copied!",fvButtonText:"&#x2715;",displayTime:this.defines.defaultTime,css:void 0,clickToClose:this.defines.clickToClose}){try{if(!e)return void console.error("Element not found with the provided Target:",e);navigator.clipboard.writeText(this.#a(e)).then((()=>{t&&this.new(n)})).catch((e=>{console.error("Text could not be copied: ",e)}))}catch(e){console.error("Ups! An error occurred during the copy function.",e)}}}